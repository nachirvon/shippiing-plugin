jQuery(document).ready(function(e){const{__:c}=wp.i18n;function o(t){t.selectWoo({placeholder:t.attr("data-placeholder")||t.attr("placeholder")||"",width:"100%",language:{noResults:function(){return c("گزینه ای برای انتخاب وجود ندارد","amadast-shipping-wp")}}})}function a(t){return e.post(AMDSP_CHECKOUT_OBJECT.request_url,t)}function s(t,i){const n=e(`#${t}_city`);n.html('<option value="0">'+c("در حال بارگذاری...","amadast-shipping-wp")+"</option>");a({action:"amdsp_checkout_load_cities",_ajax_nonce:AMDSP_CHECKOUT_OBJECT.list_cities_nonce,state_id:i,type:t}).then(function(t){n.html(t);if(!n.hasClass("select2-hidden-accessible"))o(n);if(n.select2("isOpen")){o(n);n.select2("open")}}).catch(t=>{if(t.responseText==="-1"){if(window.confirm(c("خطا در بارگذاری شهرها؛ صفحه را رفرش کنید.","amadast-shipping-wp"))){window.location.reload()}}})}function l(){e("body").trigger("update_checkout")}AMDSP_CHECKOUT_OBJECT.types.forEach(t=>{o(e(`#${t}_state`));o(e(`#${t}_city`))});setTimeout(function(){e("select[id$='_state']").on("change",function(t){const i=e(this).attr("id").indexOf("billing")!==-1?"billing":"shipping";const n=t.target.value;s(i,n)});e("select[id$='_city']").on("change",function(t){const i=e(this).attr("id").indexOf("billing")!==-1?"billing":"shipping";const n=t.target.value;l()})})});